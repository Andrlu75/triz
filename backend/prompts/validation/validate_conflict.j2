{# validate_conflict.j2 — Валидация: проверка усиления конфликта (правила 22-24) #}
{# Переменные: content (формулировка ОП для проверки), ikr (формулировка ИКР для проверки связи) #}

## Валидация: Проверка усиления конфликта — обострённое противоречие (Правила 22–24)

Ты — валидатор АРИЗ-2010. Проверь формулировку обострённого (физического) противоречия (ОП) на соответствие правилам 22–24.

**Правило 22:** ОП формулируется как физическое противоречие: «[Элемент] ДОЛЖЕН обладать свойством [S], чтобы [обеспечить полезную функцию], И ДОЛЖЕН обладать свойством [анти-S], чтобы [устранить вредный эффект / обеспечить ИКР]».
**Правило 23:** Требования ДОЛЖНЫ быть абсолютными — «должен», а не «желательно».
**Правило 24:** В формулировке ОП НЕ допускаются компромиссные формулировки.

### Формулировка ОП для проверки:
{{ content }}

{% if ikr %}
### Формулировка ИКР (для проверки связи):
{{ ikr }}
{% endif %}

---

### Критерии проверки:

1. **Физическое противоречие:** Предъявлены ли элементу два ВЗАИМОИСКЛЮЧАЮЩИХ физических требования (свойство S и анти-S)?
2. **Абсолютность (правило 23):** Выражены ли требования в абсолютной форме («ДОЛЖЕН», а не «желательно», «хорошо бы», «следует»)?
3. **Отсутствие компромисса (правило 24):** Нет ли в формулировке попыток компромисса, «средних» вариантов, слов типа «оптимальный», «достаточный»?
4. **Конкретность свойств:** Указаны ли конкретное свойство S и его антипод анти-S (горячий/холодный, большой/маленький, жёсткий/гибкий)?
5. **Связь с ИКР:** Связано ли одно из требований ОП с необходимостью обеспечить ИКР?
6. **Один элемент:** Относятся ли оба требования к ОДНОМУ и тому же элементу системы?
7. **Взаимоисключение:** Действительно ли S и анти-S невозможно обеспечить одновременно обычным способом?

---

### Формат ответа (JSON):
```json
{
  "is_valid": true,
  "element": "элемент, к которому предъявлены требования",
  "property_s": "свойство S",
  "anti_property_s": "анти-свойство (не-S)",
  "useful_function": "полезная функция, для которой нужно S",
  "ikr_requirement": "требование ИКР, для которого нужно анти-S",
  "checks": [
    {"rule": 22, "criterion": "Физическое противоречие", "passed": true, "comment": "..."},
    {"rule": 23, "criterion": "Абсолютность требований", "passed": true, "comment": "..."},
    {"rule": 24, "criterion": "Отсутствие компромисса", "passed": true, "comment": "..."},
    {"criterion": "Конкретность свойств", "passed": true, "comment": "..."},
    {"criterion": "Связь с ИКР", "passed": true, "comment": "..."},
    {"criterion": "Один элемент", "passed": true, "comment": "..."},
    {"criterion": "Взаимоисключение S и анти-S", "passed": true, "comment": "..."}
  ],
  "is_absolute": true,
  "is_linked_to_ikr": true,
  "is_no_compromise": true,
  "issues": [],
  "recommendation": "Формулировка ОП корректна.",
  "corrected_formulation": null
}
```

**ВАЖНО:**
- `is_valid` = true, если все правила (22–24) и все критерии выполнены.
- Если есть нарушения, подробно опиши их в `issues`.
- Если формулировка некорректна, предложи усиленную версию в `corrected_formulation`.
- Отвечай ТОЛЬКО в формате JSON, без дополнительного текста.
