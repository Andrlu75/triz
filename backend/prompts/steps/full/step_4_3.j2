{# step_4_3.j2 — Full ARIZ Part 4, Step 4.3: Check supersystem changes #}
{# Variables: user_input, problem_title, problem_description, previous_steps, previous_results #}

## Часть 4 — Оценка и развитие решения. Шаг 4.3: Проверка изменений надсистемы

### Контекст:
**Задача:** {{ problem_title | default("") }}

{% if previous_results %}
**Техническое решение:** {{ previous_results.technical_solution | default("") }}
**Аналоги:** {{ previous_results.analogs | default("") }}
{% endif %}

{% if previous_steps %}
### Предыдущие результаты:
{% for step in previous_steps %}
- **Шаг {{ step.step_code }}:** {{ step.validated_result | default(step.llm_output) }}
{% endfor %}
{% endif %}

### Ввод пользователя:
{{ user_input | default("") }}

---

### Инструкция:

**Шаг 4.3** — проверить, можно ли решить задачу изменением надсистемы.

**1. Анализ надсистемы:**
- В какую надсистему входит рассматриваемая ТС?
- Какие ограничения накладывает надсистема?
- Можно ли изменить надсистему для устранения конфликта?

**2. Варианты изменений:**
- Объединение с другой системой (моно→би→полисистема).
- Изменение среды.
- Изменение требований надсистемы.
- Перенос функции на элемент надсистемы.

**3. Оценка:**
- Решает ли изменение надсистемы исходную задачу?
- Не создаёт ли новых проблем?

### Формат ответа:
```
НАДСИСТЕМА: ...
ОГРАНИЧЕНИЯ НАДСИСТЕМЫ: ...
ВОЗМОЖНЫЕ ИЗМЕНЕНИЯ: ...
ОЦЕНКА: ...
```
