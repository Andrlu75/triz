{# step_4_5.j2 — Full ARIZ Part 4, Step 4.5: Apply the table of TP elimination principles #}
{# Variables: user_input, problem_title, problem_description, previous_steps, previous_results #}

## Часть 4 — Оценка и развитие решения. Шаг 4.5: Таблица приёмов устранения ТП

### Контекст:
**Задача:** {{ problem_title | default("") }}

{% if previous_results %}
**Техническое решение:** {{ previous_results.technical_solution | default("") }}
**ФП:** {{ previous_results.macro_fp | default("") }}
**Свойство S:** {{ previous_results.property_s | default("") }}
**Анти-свойство:** {{ previous_results.anti_property_s | default("") }}
{% endif %}

{% if previous_steps %}
### Предыдущие результаты:
{% for step in previous_steps %}
- **Шаг {{ step.step_code }}:** {{ step.validated_result | default(step.llm_output) }}
{% endfor %}
{% endif %}

### Ввод пользователя:
{{ user_input | default("") }}

---

### Инструкция:

**Шаг 4.5** — применить таблицу приёмов устранения технических противоречий (50 приёмов).

**1. Определи улучшаемый и ухудшаемый параметры:**
- Какой параметр нужно улучшить (свойство S)?
- Какой параметр при этом ухудшается (анти-S)?
- Найди пересечение в таблице противоречий.

**2. Рекомендуемые приёмы:**
Для каждого рекомендованного приёма:
- Номер и название приёма.
- Как применить к данной задаче.
- Оценка применимости.

**3. Дополнительные приёмы:**
- Есть ли парные приёмы-антиприёмы?
- Можно ли комбинировать несколько приёмов?

### Формат ответа:
```
ПАРАМЕТРЫ:
  Улучшаемый: ...
  Ухудшаемый: ...

РЕКОМЕНДУЕМЫЕ ПРИЁМЫ:
  Приём N — [Название]: применение — ...
  Приём M — [Название]: применение — ...

ПАРНЫЕ ПРИЁМЫ: ...
КОМБИНАЦИЯ: ...
```
