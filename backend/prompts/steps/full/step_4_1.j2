{# step_4_1.j2 — Full ARIZ Part 4, Step 4.1: From physical answer to technical solution #}
{# Variables: user_input, problem_title, problem_description, previous_steps, previous_results #}

## Часть 4 — Оценка и развитие решения. Шаг 4.1: Переход к техническому решению

### Контекст:
**Задача:** {{ problem_title | default("") }}

{% if previous_results %}
**Физический ответ (шаг 3.6):** {{ previous_results.physical_answer | default("") }}
**ФП:** {{ previous_results.macro_fp | default("") }}
**ИКР-2:** {{ previous_results.ikr_2 | default("") }}
{% endif %}

{% if previous_steps %}
### Предыдущие результаты:
{% for step in previous_steps %}
- **Шаг {{ step.step_code }}:** {{ step.validated_result | default(step.llm_output) }}
{% endfor %}
{% endif %}

### Ввод пользователя:
{{ user_input | default("") }}

---

### Инструкция:

**Шаг 4.1** — перейти от физического ответа к конкретному техническому решению.

**1. Техническая реализация:**
Переведи физический ответ в конкретное техническое решение:
- Какие материалы / устройства / процессы реализуют найденный физический принцип?
- Какие конструктивные изменения необходимы?
- Как встроить решение в существующую систему?

**2. Практические аспекты:**
- Какие технологии нужны для реализации?
- Какова примерная стоимость реализации?
- Какие ограничения есть?

### Формат ответа:
```
ТЕХНИЧЕСКОЕ РЕШЕНИЕ: ...
КОНСТРУКТИВНЫЕ ИЗМЕНЕНИЯ: ...
ТЕХНОЛОГИИ: ...
ВСТРАИВАНИЕ В СИСТЕМУ: ...
ОГРАНИЧЕНИЯ: ...
```
