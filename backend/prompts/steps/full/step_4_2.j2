{# step_4_2.j2 — Full ARIZ Part 4, Step 4.2: Check for analog solutions #}
{# Variables: user_input, problem_title, problem_description, previous_steps, previous_results #}

## Часть 4 — Оценка и развитие решения. Шаг 4.2: Проверка решения по аналогии

### Контекст:
**Задача:** {{ problem_title | default("") }}

{% if previous_results %}
**Техническое решение (шаг 4.1):** {{ previous_results.technical_solution | default("") }}
**ФП:** {{ previous_results.macro_fp | default("") }}
{% endif %}

{% if previous_steps %}
### Предыдущие результаты:
{% for step in previous_steps %}
- **Шаг {{ step.step_code }}:** {{ step.validated_result | default(step.llm_output) }}
{% endfor %}
{% endif %}

### Ввод пользователя:
{{ user_input | default("") }}

---

### Инструкция:

**Шаг 4.2** — проверить, не решается ли задача по аналогии с известными задачами.

**1. Поиск аналогов:**
- Есть ли задачи с аналогичным ФП в других областях?
- Решались ли подобные конфликты ранее?
- Какие принципы были использованы в аналогичных случаях?

**2. Анализ аналогов:**
- Можно ли перенести решение-аналог на текущую задачу?
- Что нужно адаптировать?
- Усиливает ли аналог найденное решение?

### Формат ответа:
```
АНАЛОГИ:
  Аналог 1: [область] — [задача] — [решение]
  Аналог 2: [область] — [задача] — [решение]

ПРИМЕНИМОСТЬ К ТЕКУЩЕЙ ЗАДАЧЕ: ...
МОДИФИКАЦИИ: ...
```
