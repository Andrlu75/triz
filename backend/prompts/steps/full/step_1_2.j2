{# step_1_2.j2 — Full ARIZ Part 1, Step 1.2: Identify the conflicting pair #}
{# Variables: user_input, problem_title, problem_description, previous_steps, previous_results #}

## Часть 1 — Анализ задачи. Шаг 1.2: Выделить конфликтующую пару

### Контекст задачи:
**Задача:** {{ problem_title | default("") }}

{% if previous_results %}
**Мини-задача (шаг 1.1):** {{ previous_results.mini_task | default("") }}
**ГФ:** {{ previous_results.main_function | default("") }}
{% endif %}

{% if previous_steps %}
### Предыдущие результаты:
{% for step in previous_steps %}
- **Шаг {{ step.step_code }}:** {{ step.validated_result | default(step.llm_output) }}
{% endfor %}
{% endif %}

### Ввод пользователя:
{{ user_input | default("") }}

---

### Инструкция (правила 2-3):

**Шаг 1.2 АРИЗ-2010** — выделить конфликтующую пару элементов: изделие (объект) и инструмент.

**1. Определи конфликтующую пару (правило 2):**
- **Инструмент** — элемент системы, который можно менять (непосредственно выполняет действие).
- **Объект (изделие)** — элемент, который нужно обработать / изменить / сохранить.

**2. Проверь правильность выбора:**
- Инструмент и объект должны быть конкретными элементами (не абстракциями).
- Инструмент — тот элемент, который непосредственно взаимодействует с объектом.
- Если в системе несколько пар — выбери ту, где конфликт наиболее острый.

**3. Опиши взаимодействие:**
- Какое полезное действие инструмент оказывает на объект?
- Какое вредное действие возникает при этом?

### Формат ответа:
```
КОНФЛИКТУЮЩАЯ ПАРА:
  Инструмент: ... (правило 2)
  Объект (изделие): ... (правило 2)

ПОЛЕЗНОЕ ДЕЙСТВИЕ: инструмент → объект = ...
ВРЕДНОЕ ДЕЙСТВИЕ: инструмент → объект = ...

ОБОСНОВАНИЕ ВЫБОРА: ...
```
